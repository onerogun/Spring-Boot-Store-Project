<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Order</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" href="../../css/style.css.css" />
</head>
<body>
<ul>
    <li><a th:href="@{/}" target="_self">Home</a></li>
    <li><a th:href="@{/orders}" target="_self">Your Orders JSON Format</a></li>
    <li><a th:href="@{/orderlist}" target="_self">Your Orders Table Format</a></li>
    <li><a th:href="@{/order}" class="active" target="_self">New Order</a></li>
    <li><a th:href="@{/logout}" target="_self">Logout</a></li>
</ul>
<br>
<br>
<form action="#" th:action="@{/order}" th:object="${order}" method="post">

    <h2>Order</h2>
    <table>
        <thead>
            <tr>

                <th>Product Id</th>
                <th>Product Name</th>
                <th>Price</th>
                <th>Amount</th>
                <th>Buy</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="product, stat : ${order.amountWrapper.wrapper}" >

                <td><input class="id" type="text" readonly="readonly"
                    th:name="|order.amountWrapper.wrapper[${stat.index}]|"
                    th:value="${product.productId}"
                    th:field="*{amountWrapper.wrapper[__${stat.index}__].productId}"/></td>
                <td th:text="${product.productName}">Product Name</td>
                <td th:text="${product.price}">Price</td>
                <td><input class="amount" type="text"
                           th:name="|order.amountWrapper.wrapper[${stat.index}]|"
                           th:value="${product.amount}"
                           th:field="*{amountWrapper.wrapper[__${stat.index}__].amount}"/></td>
                <td><input class="checkbx" type="checkbox" th:field="*{orderItems}" th:value="${product.productId}"></td>

            </tr>
        </tbody>
    </table>
    <div class="btn">
        <button class="button button1" type="submit" name ="action">Order</button>
    </div>
</form>
</body>
</html>